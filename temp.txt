
###### Выполните следующие шаги

###### 1. Apache-Kafka Binary Дистрибутив [Download](https://www.apache.org/dyn/closer.cgi?path=/kafka/2.6.0/kafka_2.13-2.6.0.tgz).

> $ tar -xzf kafka_2.13-2.6.0.tgz

> $ cd kafka_2.13-2.6.0

###### 2. Запустить Zookeeper сервер

> ./bin/zookeeper-server-start.sh $HOME/kafka_2.13-2.6.0/config/zookeeper.properties

###### 3. Запустить Kafka сервер

> ./bin/kafka-server-start.sh $HOME/kafka_2.13-2.6.0/config/server.properties

docker stop $(docker ps -a -q)
docker rm $(docker ps -a -q)



###### 4. Скачать Spring Cloud Data Flow  Server Jar

> https://repo.spring.io/release/org/springframework/cloud/spring-cloud-dataflow-server/2.7.0/spring-cloud-dataflow-server-2.7.0.jar


###### 5. Запустить Spring Cloud Data Flow Server
> export HOST_MOUNT_PATH=/SpringDataFlowDemo/jars  По умолчанию compos
> export DATAFLOW_VERSION=2.7.0
> export SKIPPER_VERSION=2.6.0
> docker-compose up

или

> java -jar spring-cloud-dataflow-server-2.7.0.jar

###### 6. Скачать Spring Cloud Data Flow Shell jar

> wget -O spring-cloud-dataflow-shell-2.7.0.jar https://repo.spring.io/release/org/springframework/cloud/spring-cloud-dataflow-shell/2.7.0/spring-cloud-dataflow-shell-2.7.0.jar

или



###### 7. Запустить Spring Cloud Data Flow shell

> java -jar  spring-cloud-dataflow-shell-2.7.0.jar

или

> docker exec -it dataflow-server java -jar shell.jar

###### 8. Зарегистрировать все 3 микросервиса в Spring Cloud Data Flow Server

Общий пример:
docker exec dataflow-server ls /root/scdf

> app register --type source --name my-app --uri file://root/scdf/my-app-1.0.0.RELEASE.jar

Пример для SpringDataFlowDemo

docker exec 1703442e7182 mkdir /target
docker cp /home/smartsimon/SpringDataFlowDemo/processor-service/target/processor-service-0.0.1-SNAPSHOT.jar 1703442e7182:/target/
docker cp /home/smartsimon/SpringDataFlowDemo/sink-service/target/sink-service-0.0.1-SNAPSHOT.jar 1703442e7182:/target/
docker cp /home/smartsimon/SpringDataFlowDemo/source-service/target/source-service-0.0.1-SNAPSHOT.jar 1703442e7182:/target/



> app register   --name processor-service --type processor --uri file://root/scdf/processor-service-0.0.1-SNAPSHOT.jar

> app register  --name sink-service --type     sink --uri file://root/scdf/sink-service-0.0.1-SNAPSHOT.jar

> app register  --name source-service --type source --uri file://root/scdf/source-service-0.0.1-SNAPSHOT.jar

###### . Start и Deploy Stream(а)

> stream deploy --name log-data
